
	
4. Andreas Nagel
	Oct 2 2003, 8:52 pm   show options
Newsgroups: ibm.software.websphere.application-server
From: "Andreas Nagel" <m...@Andreas-Nagel.de> - Find messages by this author
Date: Thu, 2 Oct 2003 20:17:25 +0200
Local: Thurs, Oct 2 2003 8:17 pm
Subject: Re: WAS 5.0: wsadmin and VariableSubstitutionEntry
Reply to Author | Forward | Print | Individual Message | Show original | Report Abuse

Try this script.
=================================
proc replaceVar { symbolicName newValue newDescription } {
  global AdminConfig
  global aNodeName
  global fd1

  set varMap [$AdminConfig getid /Node:$aNodeName/VariableMap:/]
  set entries [$AdminConfig list VariableSubstitutionEntry $varMap]

  foreach entry $entries {
    set l [$AdminConfig show $entry]
    set search [list symbolicName $symbolicName]
    set x [lsearch $l $search]
    if { !($x == -1) } {
      puts $fd1 "Variable $symbolicName wurde gefunden und wird entfernt"
      $AdminConfig remove $entry
    }
  }
  set nameattr [list symbolicName $symbolicName]
  set valattr  [list value        $newValue]
  set descattr [list description  $newDescription]
  set attrs [list $nameattr $valattr $descattr]
  $AdminConfig create VariableSubstitutionEntry $varMap $attrs
  puts $fd1 "Variable $symbolicName wurde mit neuem Wert $newValue
hinzugefuegt"

}

=================================
Save it as createVariables.jacl.
You can use it with

source createVariables.jacl
replaceVar DB2AS400_TOOLBOX_JDBC_DRIVER_PATH   \${USER_INSTALL_ROOT}/lib
"Das Verzeichnis, in dem der Treiber (jt400.jar) f?r die iSeries-Datenbank
installiert ist"

Hope this helps,
Andreas

"alodhi" <mem...@mainframeforum.com> schrieb im Newsbeitrag
news:blfd2q$4mhe$1@news.boulder.ibm.com...
Hello -

can any please provide me with an example of creating VariableMap using
wsadmin this is the version i am using but its giving me errors:

$AdminConfig create VariableMap $node {{entries{ {symbolicName ${ROOT}}
{value c:\web} {description nothing} }}}

thanks AL

-- 
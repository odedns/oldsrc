<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE root SYSTEM "flower.dtd">
<root>

	<buttonSet name="checkScreensButtons">
		<button name="close" eventName="close" group="left" activityType="readOnly" checkDirtyFlag="true"/>
	</buttonSet>

	<flow name="checkScreensFlow" context="checkContext">
		<state name="init" type="complex" page="app/screen/jsp/checkScreens.jsp" initial="true" buttonSet="checkButtons" menu="checkScreensMenu">
			<entryActions>
				<action refName="PLInitCheckScreenOP" type="operation"/>
			</entryActions>

			<transition event="btnSame" targetState="newState"/>
			<transition event="btnNew" internal="true"/>
			<transition event="btnSubFlow" internal="true"/>
			<transition event="btnDialog" internal="true">
				<subFlowData flowName="dialogFlow"/>
			</transition>

			<transition event="btnPopup" internal="true">
				<subFlowData flowName="popupFlow"/>
			</transition>
						
			<transition event="checkTableModel|link1" internal="true"></transition>
			<transition event="checkTableModel|link2" internal="true"></transition>
			<transition event="checkTableModel|link3" targetState="newState"></transition>
			<transition event="checkTableModel|link4" internal="true">
				<subFlowData flowName="dialogFlow"/>
			</transition>

			<transition event="checkTableModel|link5" internal="true">
				<subFlowData flowName="popupFlow"/>
			</transition>	
			<transition event="EndOfFlow" internal="true"/>
			<transition event="finishOK" internal="true"/>			
			<transition event="finalScreen" internal="true"/>			
		</state>
		
		<state name="newState" type="complex" page="app/general/jsp/empty.jsp" buttonSet="checkScreensButtons">
			<transition event="close" targetState="init"></transition>
		</state>
		
	</flow>		
	
	<flow name="dialogFlow" context="dialogContext" independent="true">		
		<state type="complex" name="dialog" page="app/screen/jsp/checkDialog.jsp" initial="true" buttonSet="dialogButtons">

			<transition event="close" targetState="finishOK"/>	

			<transition event="search" internal="true">	
				<actions>
					<action type="operation" refName="PLFillCheckScreenOP"/>
				</actions>
			</transition>					
			<transition event="realLink" targetState="linkState"/>			
		</state>

		<state type="complex" name="linkState" page="app/screen/jsp/checkDialogLink.jsp">
			<transition event="close2" targetState="finishOK"></transition>
		</state>

		<state name="finishOK" type="final" />	

	</flow>

	<flow name="popupFlow" context="dialogContext" independent="true">
		<state type="complex" name="popup" page="app/screen/jsp/checkPopup.jsp" initial="true">
			<transition event="search" internal="true">
				<actions>
					<action type="operation" refName="PLFillCheckScreenOP"/>
				</actions>
			</transition>	
			<transition event="realLink" targetState="linkState"/>				
		</state>

		<state type="complex" name="linkState" page="app/screen/jsp/checkPopupLink.jsp">
			<transition event="close2" targetState="finishOK"></transition>
		</state>

		<state name="finishOK" type="final" />
	</flow>	
	
	<flow name="windowsFlow">
		<state type="complex" name="popup" page="app/screen/jsp/acordion.jsp" initial="true"/>
	</flow>
				
</root>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE root SYSTEM "flower.dtd">
<root>

	<validationCheckDefinition name="multyRelationCheck"  method="check" class="fwpilot.validators.MultyRelationTypeValidator">
		<checkParamDefinition name="table" type="tableModel" multiplicity="1"/>
		<checkParamDefinition name="list" type="listModel" multiplicity="1"/>
	</validationCheckDefinition>
	
	<validationCheckDefinition name="multyMainAddressCheck"  method="check" class="fwpilot.validators.MultyMainAddressValidator">
		<checkParamDefinition name="table" type="tableModel" multiplicity="1"/>
		<checkParamDefinition name="list" type="listModel" multiplicity="1"/>
	</validationCheckDefinition>

	<validationCheckDefinition name="agreementTypeCheck"  method="check" class="fwpilot.validators.AgreementTypeValidator">
		<checkParamDefinition name="date1" type="date" multiplicity="1"/>
		<checkParamDefinition name="date2" type="date" multiplicity="1"/>
		<checkParamDefinition name="list" type="listModel" multiplicity="1"/>
	</validationCheckDefinition>


	<!-- claley details -->
	<validationCheck name="isNameExists" validationCheckDef="fieldExistsCheck">
		<checkParam name="field" fieldName="name" caption="agreementName" setFieldErrorState="true"/>
	</validationCheck>

	<validationCheck name="startEndDate" validationCheckDef="dateIsBeforeOrEqual">
		<checkParam name="date1" fieldName="startDate" caption="fromDate" setFieldErrorState="true"/>
		<checkParam name="date2" fieldName="endDate" caption="toDate" setFieldErrorState="true"/>
	</validationCheck>



	<validationCheck name="agreementDescriptionRange" validationCheckDef="stringMaxLength">
		<checkParam name="str" fieldName="description" caption="description" setFieldErrorState="true"/>
		<checkParam name="maxLength" value="250"/>
	</validationCheck>

	<validationCheck name="agreementNameRange" validationCheckDef="stringMaxLength">
		<checkParam name="str" fieldName="name" caption="agreementName" setFieldErrorState="true"/>
		<checkParam name="maxLength" value="50"/>
	</validationCheck>

	<validationCheck name="minimalPeriodRange" validationCheckDef="numberRange">
		<checkParam name="number" fieldName="minimalPeriod" caption="minimalPeriod" setFieldErrorState="true"/>
		<checkParam name="minValue" value="0"/>
		<checkParam name="maxValue" value="24"/>
	</validationCheck>


	<validationCheck name="isValidagreementTypeDateCheck" validationCheckDef="agreementTypeCheck">

		<checkParam name="date1" fieldName="startDate" caption="startDate"/>
		<checkParam name="date2" fieldName="endDate" caption="endDate"/>
		<checkParam name="list" fieldName="agreementTypeModel" caption="main"/>
	</validationCheck>


	<validationCheck name="isStatusExists" validationCheckDef="listSelectionCheck">
		<checkParam name="field" fieldName="statusModel" caption="status"/>
	</validationCheck>


	<validationCheck name="betweenStr" validationCheckDef="dateIsBetweenStr">
		<checkParam name="date" fieldName="startDate" caption="fromDate" setFieldErrorState="true"/>
		<checkParam name="date1" value="01/01/1900"/>
		<checkParam name="date1Mask" value="dd/MM/yyyy"/>
		<checkParam name="date2" value="31/12/1999"/>
		<checkParam name="date2Mask" value="dd/MM/yyyy"/>
	</validationCheck>

	<validationCheck name="afterStr" validationCheckDef="dateIsBeforeStr">
		<checkParam name="date1" fieldName="startDate" caption="fromDate" setFieldErrorState="true"/>
		<checkParam name="date2" value="12/04/2004"/>
		<checkParam name="date2Mask" value="dd/MM/yyyy"/>
	</validationCheck>



	<validationCheckSet name="claleySet">
		<check validationCheckName ="isNameExists"/>		
		<check validationCheckName ="startEndDate"/>	
		<check validationCheckName ="agreementDescriptionRange"/>
		<check validationCheckName ="agreementNameRange"/>
		<check validationCheckName ="minimalPeriodRange" />
		<check validationCheckName ="isValidagreementTypeDateCheck"/>
		<check validationCheckName ="isStatusExists"/>		
	</validationCheckSet>

	
	<validator name="claleyDetailsValidator" type="complex">
		<checkSet validationCheckSetName="claleySet"/>
	</validator>


	<!-- for customer details link -->

	<validationCheck name="isValidCustomer" validationCheckDef="checkCustomerExistance">
		<checkParam name="customerID" fieldName="custID"/>
	</validationCheck>


	<validator name="claleyDetailsCustomerValidator" type="complex">
		<check validationCheckName="isValidCustomer"/>
	</validator>

	<!-- documents details -->
	<validationCheck name="isDocIdExists" validationCheckDef="fieldExistsCheck">
		<checkParam name="field" fieldName="docId" caption="documentID" setFieldErrorState="true"/>
	</validationCheck>

	<validationCheck name="documentDescriptionRange" validationCheckDef="stringMaxLength">
		<checkParam name="str" fieldName="docDescription" caption="description" setFieldErrorState="true"/>
		<checkParam name="maxLength" value="50"/>
	</validationCheck>


	<validator name="documentDetailsValidator" type="complex">
		<check validationCheckName="isDocIdExists"/>
		<check validationCheckName="documentDescriptionRange"/>
	</validator>



	<!-- package -->
	<validationCheck name="isPackTypeExists" validationCheckDef="fieldExistsCheck">
		<checkParam name="field" fieldName="packType" caption="type" setFieldErrorState="true"/>
	</validationCheck>

	<validationCheck name="isPackInsuranceSumExists" validationCheckDef="fieldExistsCheck">
		<checkParam name="field" fieldName="packInsuranceSum" caption="sumInsurance" setFieldErrorState="true"/>
	</validationCheck>

	<validationCheck name="isPackPremiaExists" validationCheckDef="fieldExistsCheck">
		<checkParam name="field" fieldName="packPremia" caption="premia" setFieldErrorState="true"/>
	</validationCheck>


	<validationCheckSet name="packageSet">
		<check validationCheckName="isPackTypeExists" />
		<check validationCheckName="isPackInsuranceSumExists"/>
		<check validationCheckName="isPackPremiaExists"/>
	</validationCheckSet>


	<validator name="packageValidator" type="complex">
		<checkSet validationCheckSetName="packageSet"/>
	</validator>
	
		<validator name="checkAdd" class="fwpilot.validators.CheckNode" type="custom"> 
		<param name="node" value="root" class="java.lang.String"/>
	</validator>
	
	<validator name="checkDelete" class="fwpilot.validators.CheckNode" type="custom"> 
		<param name="node" value="package" class="java.lang.String"/>
	</validator>
	
	
		
</root>